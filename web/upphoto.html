<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>上传照片 - 启迪之星</title>
    <meta name="description" content="" />
    <meta name="keywords" content="" />


    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/jquery.easing.min.js"></script>
    <script src="js/plugins.js"></script>
    <script src="js/axios.min.js"></script>
    <!-- selectize js -->
    <script src="js/selectize.min.js"></script>
    <script src="js/vue.min.js"></script>
    <script src="js/jquery.nice-select.min.js"></script>

    <script src="js/app.js"></script>
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css">

    <!--Material Icon -->
    <link rel="stylesheet" type="text/css" href="css/materialdesignicons.min.css" />

    <link rel="stylesheet" type="text/css" href="css/selectize.css" />

    <link rel="stylesheet" type="text/css" href="css/nice-select.css" />

    <!-- Custom  Css -->
    <link rel="stylesheet" type="text/css" href="css/style.css" />

</head>

<body>
    <!-- Loader -->
    <div id="preloader">
        <div id="status">
            <div class="spinner">
                <div class="double-bounce1"></div>
                <div class="double-bounce2"></div>
            </div>
        </div>
    </div>
    <div class="home-center">
        <form action="/upphoto" method="post" enctype="multipart/form-data">
            <img id="img" src="images/employers/img-1.jpg" class="img-fluid avatar avatar-medium d-block mx-auto rounded-pill">
            <div class="col-md-12">
                <ul class="list-inline mb-0">
                    <li class="list-inline-item">
                        <div class="input-group mt-2 mb-2">
                            <div class="custom-file">
                                <input type="file" class="custom-file-input" id="inputGroupFile01" name = "image"
                                       aria-describedby="inputGroupFileAddon01">
                                <label class="custom-file-label rounded"><i class="mdi mdi-cloud-upload mr-1"></i>
                                    上传照片
                                </label>
                            </div>
                        </div>
                    </li>

                    <li class="list-inline-item">
                        <input type="submit" value="上传" />
                    </li>
                </ul>
            </div>
        </form>
    </div>
    <script>
        function preserve()
        {
            var formData    = new FormData();
            var img = $("[name='img']").prop('files')[0];/*获取上传图片的信息*/
            formData.append("img",img);
            $.ajax({
                type : "post",
                url : "{:URL('')}",/*此处填写上传路径*/
                processData : false,
                contentType : false,
                data : formData,
                success : function(data) {
                    console.log("保存成功！");
                }
            });
        }
    </script>
    <script type="text/javascript">
        var img = document.querySelector('input[name=image]');
        imgs = document.querySelector('#img');
        if(img){
            img.addEventListener('change', function() {
                var file = this.files[0];
                var reader = new FileReader();
                // 监听reader对象的的onload事件，当图片加载完成时，把base64编码賦值给预览图片
                reader.addEventListener("load", function() {
                    imgs.src = reader.result;
                }, false);
                // 调用reader.readAsDataURL()方法，把图片转成base64
                reader.readAsDataURL(file);
                $("img").eq(1).css("display", "block");
            }, false);
        }
    </script>
</body>

</html>